interactions:
- request:
    body: '{"messages": [{"role": "system", "content": "A chat history between user
      and bot is shown below\nA list of documents is shown below in json format, and
      each document has one unique id.\nThese listed documents are used as context
      to answer the given question.\nThe task is to score the relevance between the
      documents and the potential answer to the given question in the range of 1 to
      5.\n1 means none of the documents is relevant to the question at all. 5 means
      either one of the document or combination of a few documents is ideal for answering
      the given question.\nThink through step by step:\n- Summarize each given document
      first\n- Determine the underlying intent of the given question, when the question
      is ambiguous, refer to the given chat history\n- Measure how suitable each document
      to the given question, list the document id and the corresponding relevance
      score.\n- Summarize the overall relevance of given list of documents to the
      given question after # Overall Reason, note that the answer to the question
      can solely from single document or a combination of multiple documents.\n- Finally,
      output \"# Result\" followed by a score from 1 to 5.\n\n# Question\nWhat is
      the capital of Japan?\n# Chat History\n[{''user'': ''What is the capital of
      Japan?'', ''assistant'': ''The capital of Japan is Tokyo.''}]\n# Documents\n===BEGIN
      RETRIEVED DOCUMENTS===\n[{\"id\": \"doc.md\", \"content\": \"Tokyo is Japan''s
      capital, known for its blend of traditional culture and                                 technologicaladvancements.\"}]\n===END
      RETRIEVED DOCUMENTS==="}], "model": "gpt-35-turbo", "frequency_penalty": 0,
      "presence_penalty": 0, "response_format": {"type": "text"}, "temperature": 0.0,
      "top_p": 1.0}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      api-key:
      - 73963c03086243b3ae5665565fcaae42
      connection:
      - keep-alive
      content-length:
      - '1710'
      content-type:
      - application/json
      host:
      - eastus.api.cognitive.microsoft.com
      ms-azure-ai-promptflow:
      - '{"execution_target": "dag", "run_mode": "Test", "flow_id": "default_flow_id",
        "root_run_id": "41f5e8f9-c5cb-4102-98e5-8fd4a57f385c"}'
      ms-azure-ai-promptflow-called-from:
      - promptflow-core
      user-agent:
      - AzureOpenAI/Python 1.35.8
      x-ms-useragent:
      - promptflow-sdk/1.13.0.dev0 promptflow/1.14.0.dev0 promptflow-core/1.13.0.dev0
        promptflow-tracing/1.13.0.dev0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.35.8
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.8
    method: POST
    uri: https://eastus.api.cognitive.microsoft.com//openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-07-01-preview
  response:
    content: '{"choices": [{"content_filter_results": {"hate": {"filtered": false,
      "severity": "safe"}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual":
      {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity":
      "safe"}}, "finish_reason": "stop", "index": 0, "message": {"content": "# Document
      Summaries\n- doc.md: Tokyo is the capital of Japan, known for its mix of traditional
      culture and modern technology.\n\n# Intent\nThe intent of the question is to
      know the capital city of Japan.\n\n# Document Relevance Scores\n- doc.md: 5
      (The document directly answers the question with the correct information.)\n\n#
      Overall Reason\nThe only document in the list directly answers the question
      with the correct information.\n\n# Result\n5 (The document is highly relevant
      and provides the exact answer to the question.)", "role": "assistant"}}], "created":
      1721248153, "id": "chatcmpl-9m5YvRUxGGgzNFDtOzJP7zgv7PSoJ", "model": "gpt-35-turbo",
      "object": "chat.completion", "prompt_filter_results": [{"prompt_index": 0, "content_filter_results":
      {}}], "system_fingerprint": null, "usage": {"completion_tokens": 106, "prompt_tokens":
      324, "total_tokens": 430}}'
    headers:
      access-control-allow-origin:
      - '*'
      apim-request-id:
      - 1125a107-c966-4801-a7f6-02624d8db180
      azureml-model-session:
      - turbo-0301-1d863200
      cache-control:
      - no-cache, must-revalidate
      content-length:
      - '1126'
      content-type:
      - application/json
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-accel-buffering:
      - 'no'
      x-content-type-options:
      - nosniff
      x-ms-rai-invoked:
      - 'true'
      x-ms-region:
      - East US
      x-ratelimit-remaining-requests:
      - '226'
      x-ratelimit-remaining-tokens:
      - '239938'
      x-request-id:
      - d12265eb-d054-496e-a926-766a9bb4ba0a
    http_version: HTTP/1.1
    status_code: 200
version: 1
